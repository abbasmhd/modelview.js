/**
*
*   ModelView Extra Validation Methods add-on
*
*   A simple/extendable MV* (MVVM) framework
*   optionaly integrates into both jQuery as MVVM plugin and jQueryUI as MVC widget
*   https://github.com/foo123/modelview.js
*
**/
!function(t,n,e){"use strict";var r;"object"==typeof module&&module.exports?module.exports=e.call(t,require(/\.min(\.js)?/i.test(__filename)?"./modelview.min":"./modelview")):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&(require.specified(n)||require.specified("ModelView"))?define(n,["ModelView"],function(n){return e.call(t,n)}):n in t||(t[n]=r=e.call(t,t.ModelView))&&"function"==typeof define&&define.amd&&define(function(){return r})}(this,"ModelViewValidation",function(t){"use strict";var n="hasOwnProperty",e=t.Type.Cast,r=(t.Type.Typecaster,t.Validation.Validate),d=t.Validation.Validator;return e[n]("LCASE")||(e.LCASE=Typecaster(function(t){return String(t).toLowerCase()})),e[n]("UCASE")||(e.LCASE=Typecaster(function(t){return String(t).toUpperCase()})),e[n]("PAD")||(e.PAD=function(t,n,e){return e=e||"L",Typecaster(function(r){var d,f,i=String(r),u=i.length,A=n-u;return A>0&&("LR"===e?(f=~~(A/2),d=A-f,i=new Array(d+1).join(t)+i+new Array(f+1).join(t)):"R"===e?i+=new Array(A+1).join(t):"L"===e&&(i=new Array(A+1).join(t)+i)),i})}),e[n]("FORMAT")||(e.FORMAT=function(n){return"string"==typeof n?(n=new t.Tpl(n,t.Type.tpl_$0),Typecaster(function(t){return n.render({$0:t})})):Typecaster(n instanceof t.Tpl?function(t){return n.render(t)}:"function"==typeof n?function(t){return n(t)}:function(t){return String(t)})}),r[n]("DATETIME")||(r.DATETIME=function(t,n){if("function"==typeof DateX){var e=DateX.getParser(t,n||DateX.defaultLocale);return d(function(t){return!!t&&!1!==e(t)})}return d(function(){return!0})}),r[n]("EMAIL")||(r.EMAIL=function(t){return d(function(n){return t.test(String(n))})}(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)),r[n]("URL")||(r.URL=function(t){return d(function(n){return t.test(String(n))})}(new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"))),r[n]("MIN_ITEMS")||(r.MIN_ITEMS=function(t,n){return t=parseInt(t,10)||0,d("function"==typeof n?function(e){return e.length>=t&&e.filter(n).length>=t}:function(n){return n.length>=t})}),r[n]("MAX_ITEMS")||(r.MAX_ITEMS=function(t,n){return t=parseInt(t,10)||0,d("function"==typeof n?function(e){return e.filter(n).length<=t}:function(n){return n.length<=t})}),r[n]("MIN_FILES")||(r.MIN_FILES=function(t,n,e){return n=parseInt(n,10)||0,d("function"==typeof e?function(r){return r=r||t.files,r.length>0?Array.prototype.filter.call(r,e).length>=n:0>=n}:function(e){return e=e||t.files,e.length>=n})}),r[n]("MAX_FILES")||(r.MAX_FILES=function(t,n,e){return n=parseInt(n,10)||0,d("function"==typeof e?function(r){return r=r||t.files,r.length>0?Array.prototype.filter.call(r,e).length<=n:n>=0}:function(e){return e=e||t.files,e.length<=n})}),r[n]("FILESIZE")||(r.FILESIZE=function(t,n){return n=parseInt(n,10)||0,d(function(e){e=e||t.files;var r=!e.length||e[0].size<=n;return r||(t.value=""),r})}),r[n]("FILETYPE")||(r.FILETYPE=function(t,n){return n instanceof RegExp||(n="string"==typeof n?n.replace(/\s/g,""):"image/*",n=new RegExp(".?("+n.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace("/*","/.*")+")$","i")),d(function(e){if(e=e||t.files,"file"===t.type&&e&&e.length)for(var r=0,d=e.length;d>r;r++)if(!e[r].type.match(n))return!1;return!0})}),r[n]("IPV4")||(r.IPV4=function(t){return d(function(n){return t.test(String(n))})}(/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i)),r[n]("IPV6")||(r.IPV6=function(t){return d(function(n){return t.test(String(n))})}(/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i)),r[n]("IP")||(r.IP=r.IPV4),r[n]("BIC")||(r.BIC=function(t){return d(function(n){return t.test(String(n))})}(/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/)),r[n]("IBAN")||(r.IBAN=function(){return d(function(t){var n,e,r,d,f,i,u,A,a,o,c=String(t).replace(/ /g,"").toUpperCase(),l="",s=!0,p="",Z="";if(n=c.substring(0,2),"undefined"==typeof i[n])return!1;if(f=i[n],u=new RegExp("^[A-Z]{2}\\d{2}"+f+"$",""),!u.test(c))return!1;for(e=c.substring(4,c.length)+c.substring(0,4),A=0,a=e.length;a>A;A++)r=e.charAt(A),"0"!=r&&(s=!1),s||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(r));for(o=0,a=l.length;a>o;o++)d=l.charAt(o),Z=""+p+d,p=Z%97;return 1===p})}({AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"})),r[n]("CURRENCY")||(r.CURRENCY=function(t,n,e){return t="["+t.replace(/,/g,"")+"]"+(e?"?":""),currency_pattern=new RegExp("^"+(n?"":t)+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)"+(n?t:"")+"$"),d(function(t){return currency_pattern.test(String(t))})}),r[n]("CREDITCARDNUMBER")||(r.CREDITCARDNUMBER=d(function(t){if(t=String(t),/[^0-9 \-]+/.test(t))return!1;var n,e,r=0,d=0,f=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)e=t.charAt(n),d=parseInt(e,10),f&&(d*=2)>9&&(d-=9),r+=d,f=!f;return 0===r%10})),r[n]("CREDITCARDTYPE")||(r.CREDITCARDTYPE=function(t){var n=0;return(t.mastercard||t.MASTERCARD)&&(n|=1),(t.visa||t.VISA)&&(n|=2),(t.amex||t.AMEX)&&(n|=4),(t.dinersclub||t.DINERSCLUB)&&(n|=8),(t.enroute||t.ENROUTE)&&(n|=16),(t.discover||t.DISCOVER)&&(n|=32),(t.jcb||t.JCB)&&(n|=64),(t.unknown||t.UNKNOWN)&&(n|=128),(t.all||t.ALL)&&(n=255),d(function(t){return t=String(t),/[^0-9\-]+/.test(t)?!1:(t=t.replace(/\D/g,""),1&n&&/^(5[12345])/.test(t)?16===t.length:2&n&&/^(4)/.test(t)?16===t.length:4&n&&/^(3[47])/.test(t)?15===t.length:8&n&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&n&&/^(2(014|149))/.test(t)?15===t.length:32&n&&/^(6011)/.test(t)?16===t.length:64&n&&/^(3)/.test(t)?16===t.length:64&n&&/^(2131|1800)/.test(value)?15===t.length:128&n?!0:!1)})}),1});