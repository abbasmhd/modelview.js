/**
*
*   ModelView Extra Validation Methods add-on
*
*   A simple/extendable MV* (MVVM) framework
*   optionaly integrates into both jQuery as MVVM plugin and jQueryUI as MVC widget
*   https://github.com/foo123/modelview.js
*
**/
!function(t,e,n){"use strict";var d;"object"==typeof module&&module.exports?module.exports=n.call(t,require(/\.min(\.js)?/i.test(__filename)?"./modelview.min":"./modelview")):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&(require.specified(e)||require.specified("ModelView"))?define(e,["ModelView"],function(e){return n.call(t,e)}):e in t||(t[e]=d=n.call(t,t.ModelView))&&"function"==typeof define&&define.amd&&define(function(){return d})}(this,"ModelViewValidation",function(t){"use strict";var e="hasOwnProperty",n=t.Validation.Validate,d=t.Validation.Validator;return n[e]("DATETIME")||(n.DATETIME=function(t,e){if("function"==typeof DateX){var n=DateX.getParser(t,e||DateX.defaultLocale);return d(function(t){return!!t&&!1!==n(t)})}return d(function(){return!0})}),n[e]("MIN_FILES")||(n.MIN_FILES=function(t,e,n){return e=parseInt(e,10)||0,d("function"==typeof n?function(d){return d=d||t.files,d.length>0?Array.prototype.filter.call(d,n).length>=e:0>=e}:function(n){return n=n||t.files,n.length>=e})}),n[e]("MAX_FILES")||(n.MAX_FILES=function(t,e,n){return e=parseInt(e,10)||0,d("function"==typeof n?function(d){return d=d||t.files,d.length>0?Array.prototype.filter.call(d,n).length<=e:e>=0}:function(n){return n=n||t.files,n.length<=e})}),n[e]("FILESIZE")||(n.FILESIZE=function(t,e){return e=parseInt(e,10)||0,d(function(n){n=n||t.files;var d=!n.length||n[0].size<=e;return d||(t.value=""),d})}),n[e]("EMAIL")||(n.EMAIL=function(t){return d(function(e){return t.test(String(e))})}(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)),n[e]("URL")||(n.URL=function(t){return d(function(e){return t.test(String(e))})}(new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"))),n[e]("FILETYPE")||(n.FILETYPE=function(t,e){return e instanceof RegExp||(e="string"==typeof e?e.replace(/\s/g,""):"image/*",e=new RegExp(".?("+e.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace("/*","/.*")+")$","i")),d(function(n){if(n=n||t.files,"file"===t.type&&n&&n.length)for(var d=0,r=n.length;r>d;d++)if(!n[d].type.match(e))return!1;return!0})}),n[e]("IPV4")||(n.IPV4=function(t){return d(function(e){return t.test(String(e))})}(/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i)),n[e]("IPV6")||(n.IPV6=function(t){return d(function(e){return t.test(String(e))})}(/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i)),n[e]("IP")||(n.IP=n.IPV4),n[e]("BIC")||(n.BIC=function(t){return d(function(e){return t.test(String(e))})}(/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/)),n[e]("IBAN")||(n.IBAN=function(){return d(function(t){var e,n,d,r,f,i,u,A,a,o,c=String(t).replace(/ /g,"").toUpperCase(),l="",Z=!0,s="",g="";if(e=c.substring(0,2),"undefined"==typeof i[e])return!1;if(f=i[e],u=new RegExp("^[A-Z]{2}\\d{2}"+f+"$",""),!u.test(c))return!1;for(n=c.substring(4,c.length)+c.substring(0,4),A=0,a=n.length;a>A;A++)d=n.charAt(A),"0"!=d&&(Z=!1),Z||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(d));for(o=0,a=l.length;a>o;o++)r=l.charAt(o),g=""+s+r,s=g%97;return 1===s})}({AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"})),n[e]("CURRENCY")||(n.CURRENCY=function(t,e,n){return t="["+t.replace(/,/g,"")+"]"+(n?"?":""),currency_pattern=new RegExp("^"+(e?"":t)+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)"+(e?t:"")+"$"),d(function(t){return currency_pattern.test(String(t))})}),n[e]("CREDITCARDNUMBER")||(n.CREDITCARDNUMBER=d(function(t){if(t=String(t),/[^0-9 \-]+/.test(t))return!1;var e,n,d=0,r=0,f=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(e=t.length-1;e>=0;e--)n=t.charAt(e),r=parseInt(n,10),f&&(r*=2)>9&&(r-=9),d+=r,f=!f;return 0===d%10})),n[e]("CREDITCARDTYPE")||(n.CREDITCARDTYPE=function(t){var e=0;return(t.mastercard||t.MASTERCARD)&&(e|=1),(t.visa||t.VISA)&&(e|=2),(t.amex||t.AMEX)&&(e|=4),(t.dinersclub||t.DINERSCLUB)&&(e|=8),(t.enroute||t.ENROUTE)&&(e|=16),(t.discover||t.DISCOVER)&&(e|=32),(t.jcb||t.JCB)&&(e|=64),(t.unknown||t.UNKNOWN)&&(e|=128),(t.all||t.ALL)&&(e=255),d(function(t){return t=String(t),/[^0-9\-]+/.test(t)?!1:(t=t.replace(/\D/g,""),1&e&&/^(5[12345])/.test(t)?16===t.length:2&e&&/^(4)/.test(t)?16===t.length:4&e&&/^(3[47])/.test(t)?15===t.length:8&e&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&e&&/^(2(014|149))/.test(t)?15===t.length:32&e&&/^(6011)/.test(t)?16===t.length:64&e&&/^(3)/.test(t)?16===t.length:64&e&&/^(2131|1800)/.test(value)?15===t.length:128&e?!0:!1)})}),1});